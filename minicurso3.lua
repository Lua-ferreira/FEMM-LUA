clearconsole()
newdocument(0)
mi_probdef(0,'millimeters','planar',1e-8,11.2,0)
mi_saveas("minicurso3.fem") --comment
--pontos
mi_addnode(-20,46)
mi_addnode(-20,-20)
mi_addnode(37,-20)
mi_addnode(37,46)
--segmentos
mi_addsegment(-20,46,-20,-20)
mi_addsegment(-20,-20,37,-20)
mi_addsegment(37,46,37,-20)
mi_addsegment(-20,46,37,46)
--fronteira
mi_addboundprop("Zero",0,0,0,0,0,0,0,0,0)
mi_selectsegment(20,46)
mi_selectsegment(-20,20)
mi_selectsegment(20,-20)
mi_selectsegment(37,20)
mi_setsegmentprop("Zero",0,0,0,0)
mi_clearselected()
--não sei
mi_addnode(0,25.5)
mi_addnode(0,21.5)
mi_addnode(0,21)
mi_addnode(0,0)
mi_addnode(4,21)
mi_addnode(4,4)
mi_addnode(10,21)
mi_addnode(10,4)
mi_addnode(14,25.5)
mi_addnode(14,21.5)
mi_addnode(14,21)
mi_addnode(14,0)
--não sei 2
mi_addsegment(0,25.5,14,25.5)
mi_addsegment(0,21.5,0,25.5)
mi_addsegment(14,25.5,14,21.5)
mi_addsegment(14,21.5,0,21.5)
mi_addsegment(0,21,0,0)
mi_addsegment(0,0,14,0)
mi_addsegment(14,0,14,21)
mi_addsegment(14,21,10,21)
mi_addsegment(10,21,10,4)
mi_addsegment(10,4,4,4)
mi_addsegment(4,4,4,21)
mi_addsegment(4,21,0,21)
--outro
mi_addnode(7,20)
mi_addnode(7,5)
mi_addnode(9,20)
mi_addnode(9,5)
mi_addnode(15,20)
mi_addnode(15,5)
mi_addnode(17,20)
mi_addnode(17,5)
--another
mi_addsegment(7,20,7,5)
mi_addsegment(7,5,9,5)
mi_addsegment(9,5,9,20)
mi_addsegment(9,20,7,20)
mi_addsegment(15,20,15,5)
mi_addsegment(15,5,17,5)
mi_addsegment(17,5,17,20)
mi_addsegment(17,20,15,20)
--material
mi_getmaterial("Air")
mi_getmaterial("M-36 Steel")
mi_getmaterial("22 AWG")
--circuito
mi_addcircprop("Bobina +",1,1)
mi_addcircprop("Bobina -",-1,1)
--addmat
--ar
mi_addblocklabel(-9,10)
mi_selectlabel(-9,10)
mi_setblockprop("Air",0,0,"<None>",0,0,0)
mi_clearselected()
--bobinamenos
mi_addblocklabel(8,12)
mi_selectlabel(8,12)
mi_setblockprop("22 AWG",0,1,"Bobina -",0,0,-72)
mi_clearselected()
--bobinamais
mi_addblocklabel(16,15)
mi_selectlabel(16,15)
mi_setblockprop("22 AWG",0,1,"Bobina +",0,0,72)
mi_clearselected()
--nucleo
--parte movel
mi_addblocklabel(7,24)
mi_selectlabel(7,24)
mi_setblockprop("M-36 Steel",0,0,"<None>",0,0,0)
mi_clearselected()
--parte fixa
mi_addblocklabel(2,10)
mi_selectlabel(2,10)
mi_setblockprop("M-36 Steel",0,0,"<None>",0,0,0)
mi_clearselected()
--prepro
mi_createmesh()
mi_analyze(1)
mi_loadsolution()
mi_zoomnatural()
mo_showvectorplot(1,0.5)
mo_showdensityplot(1,0,1,0,"bmag")
mo_savebitmap("minicurso3.bmp")